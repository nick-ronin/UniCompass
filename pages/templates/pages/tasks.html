{% extends 'base/base.html' %}
{% load translation_tags %}
{% load static %}
{% block extra_css %}
    <link rel="stylesheet" href="{% static 'pages/css/tasks.css' %}">
{% endblock %}

{% block title %}–ú–æ–∏ –∑–∞–¥–∞–Ω–∏—è{% endblock %}
{% block header_title %}–ú–æ–∏ –∑–∞–¥–∞–Ω–∏—è{% endblock %}
{% block content %}
    <div class="content-wrapper">
        <div class="profile">
            <div class="top-block">
                <div class="profile-image">
                    <div class="profile-ellipse-1"></div>
                    <div class="profile-ellipse-2"></div>
                    <div class="profile-dot-1"></div>
                    <div class="profile-rect-1"></div>
                    <div class="profile-rect-2"></div>
                </div>

                <div class="profile-text">
                    <h1>–•—É–∞–Ω –ê—Ä–∏–∞—Å</h1>
                    <p>–ì—Ä—É–ø–ø–∞: –ö–ò26-01–ë</p>
                    <p>–ò–Ω—Å—Ç–∏—Ç—É—Ç: –ò–ö–ò–¢</p>
                </div>
            </div>

            <div class="bottom-block">
                <div class="profile-level">
                    <p>–£—Ä–æ–≤–µ–Ω—å: 1</p>
                    <progress class="common-task" value="25" max="100"></progress>
                    <progress class="urgent-task" value="45" max="100"></progress>
                </div>
            </div>
        </div>

        {#        <div class="urgent-tasks tasks-container">#}

        <div class="common-tasks tasks-container" id="common-header">
    <span class="name">
        <span class="iconify" data-icon="majesticons:clipboard-check-line" data-width="26" data-height="26"></span>
        –û–±—â–∏–µ –∑–∞–¥–∞–Ω–∏—è
    </span>
            <span class="iconify" data-icon="majesticons:plus" data-width="26" data-height="26" id="common-toggle"></span>
        </div>

        <div class="common-tasks-block" id="common-block" style="display: none;">
            <form action="{% url 'tasks' %}">
                <div class="tasks-field">

                    <div class="task-item">
                        <div class="left">
                            <input type="checkbox" name="common-task-1" id="common-task1">
                            <label for="common-task1" class="task-label">–ü—Ä–æ—á–∏—Ç–∞—Ç—å –ª–µ–∫—Ü–∏—é –ø–æ –º–∞—Ç–µ–º–∞—Ç–∏–∫–µ</label>
                        </div>
                        <span class="task-points">+5 –æ–ø.</span>
                    </div>

                    <div class="task-item">
                        <div class="left">
                            <input type="checkbox" name="common-task-2" id="common-task2">
                            <label for="common-task2" class="task-label">–°–¥–µ–ª–∞—Ç—å –¥–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ –ø–æ —Ñ–∏–∑–∏–∫–µ</label>
                        </div>
                        <span class="task-points">+8 –æ–ø.</span>
                    </div>

                    <div class="task-item">
                        <div class="left">
                            <input type="checkbox" name="common-task-3" id="common-task3">
                            <label for="common-task3" class="task-label">–ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –æ—Ç—á–µ—Ç –ø–æ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–π —Ä–∞–±–æ—Ç–µ</label>
                        </div>
                        <span class="task-points">+7 –æ–ø.</span>
                    </div>

                    <div class="task-item">
                        <div class="left">
                            <input type="checkbox" name="common-task-4" id="common-task4">
                            <label for="common-task4" class="task-label">–°–æ—Å—Ç–∞–≤–∏—Ç—å –ø–ª–∞–Ω –ø–æ –ø—Ä–æ–µ–∫—Ç—É</label>
                        </div>
                        <span class="task-points">+6 –æ–ø.</span>
                    </div>

                </div>
            </form>
        </div>





        <div class="urgent-tasks tasks-container" id="urgent-header">
            <span class="name">
                <span class="iconify" data-icon="majesticons:clipboard-check-line" data-width="26" data-height="26"></span>
                –ó–∞–¥–∞–Ω–∏–µ –æ—Ç —Ç—å—é—Ç–æ—Ä–∞
            </span>
            <span class="iconify" data-icon="majesticons:plus" data-width="26" data-height="26" id="urgent-toggle"></span>
        </div>

        <div class="urgent-tasks-block" id="urgent-block" style="display: none;">
            <form action="{% url 'tasks' %}">
                <div class="tasks-field">

                    <div class="task-item">
                        <div class="left">
                            <input type="checkbox" name="urgent-task-1" id="urgent-task1">
                            <label for="urgent-task1" class="task-label">–ü—Ä–æ–¥–ª–∏—Ç—å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é</label>
                        </div>
                        <span class="task-points">+10 –æ–ø.</span>
                    </div>

                    <div class="task-item">
                        <div class="left">
                            <input type="checkbox" name="urgent-task-2" id="urgent-task2">
                            <label for="urgent-task2" class="task-label">–ü—Ä–æ–π—Ç–∏ —Ç–µ—Å—Ç –Ω–∞ –∑–Ω–∞–Ω–∏–µ –ø—Ä–∞–≤–∏–ª –æ–±—â–µ–∂–∏—Ç–∏—è</label>
                        </div>
                        <span class="task-points">+2 –æ–ø.</span>
                    </div>

                    <div class="task-item">
                        <div class="left">
                            <input type="checkbox" name="urgent-task-3" id="urgent-task3">
                            <label for="urgent-task3" class="task-label">–°—Ö–æ–¥–∏—Ç—å –Ω–∞ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ</label>
                        </div>
                        <span class="task-points">+7 –æ–ø.</span>
                    </div>

                    <div class="task-item">
                        <div class="left">
                            <input type="checkbox" name="urgent-task-4" id="urgent-task4">
                            <label for="urgent-task4" class="task-label">–ó–∞—Å–µ–ª–∏—Ç—å—Å—è –≤ –æ–±—â–µ–∂–∏—Ç–∏–µ</label>
                        </div>
                        <span class="task-points">+10 –æ–ø.</span>
                    </div>

                </div>
            </form>
        </div>




        <script>
            document.addEventListener('DOMContentLoaded', function() {
                // –í—ã–ø–∞–¥–∞—é—â–∏–π –±–ª–æ–∫ –¥–ª—è —Å—Ä–æ—á–Ω—ã—Ö –∑–∞–¥–∞–Ω–∏–π
                const urgentHeader = document.getElementById('urgent-header');
                const urgentBlock = document.getElementById('urgent-block');
                const urgentIcon = document.getElementById('urgent-toggle');

                urgentHeader.addEventListener('click', function() {
                    if (urgentBlock.style.display === 'none') {
                        urgentBlock.style.display = 'block';
                        urgentIcon.setAttribute('data-icon', 'majesticons:minus');
                    } else {
                        urgentBlock.style.display = 'none';
                        urgentIcon.setAttribute('data-icon', 'majesticons:plus');
                    }
                });

                // –í—ã–ø–∞–¥–∞—é—â–∏–π –±–ª–æ–∫ –¥–ª—è –æ–±—â–∏—Ö –∑–∞–¥–∞–Ω–∏–π
                const commonHeader = document.getElementById('common-header');
                const commonBlock = document.getElementById('common-block');
                const commonIcon = document.getElementById('common-toggle');

                commonHeader.addEventListener('click', function() {
                    if (commonBlock.style.display === 'none') {
                        commonBlock.style.display = 'block';
                        commonIcon.setAttribute('data-icon', 'majesticons:minus');
                    } else {
                        commonBlock.style.display = 'none';
                        commonIcon.setAttribute('data-icon', 'majesticons:plus');
                    }
                });

                // –ü–µ—Ä–µ—á–µ—Ä–∫–∏–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ —á–µ–∫–±–æ–∫—Å
                const checkboxes = document.querySelectorAll('input[type="checkbox"]');
                checkboxes.forEach(checkbox => {
                    checkbox.addEventListener('change', function() {
                        const label = this.nextElementSibling;
                        if (this.checked) {
                            label.style.textDecoration = 'line-through';
                            label.style.color = '#6c757d';
                        } else {
                            label.style.textDecoration = 'none';
                            label.style.color = 'inherit';
                        }
                    });
                });
            });
        </script>






        {#<div style="max-width: 500px; margin: 0 auto;">#}
        {#    <div style="background: #f8d7da; padding: 15px; margin: 10px 0; border-radius: 8px; border-left: 4px solid #dc3545;">#}
        {#        <h3>üî• –°—Ä–æ—á–Ω—ã–µ</h3>#}
        {#        <div style="display: flex; align-items: center; margin: 10px 0;">#}
        {#            <input type="checkbox" style="margin-right: 10px; transform: scale(1.2);">#}
        {#            <span>–≤–∑—è—Ç—å —Å–ø—Ä–∞–≤–∫—É –∏–∑ –¥–µ–∫–∞–Ω–∞—Ç–∞</span>#}
        {#        </div>#}
        {#        <div style="display: flex; align-items: center; margin: 10px 0;">#}
        {#            <input type="checkbox" style="margin-right: 10px; transform: scale(1.2);">#}
        {#            <span>–ø–æ—Å–µ—Ç–∏—Ç—å –∑–∞–Ω—è—Ç–∏—è –ø–æ –†—É—Å—Å–∫–æ–º—É —è–∑—ã–∫—É</span>#}
        {#        </div>#}
        {#    </div>#}
        {##}
        {#    <div style="background: #fff3cd; padding: 15px; margin: 10px 0; border-radius: 8px; border-left: 4px solid #ffc107;">#}
        {#        <h3>üìù –¢–µ–∫—É—â–∏–µ</h3>#}
        {#        <div style="display: flex; align-items: center; margin: 10px 0;">#}
        {#            <input type="checkbox" style="margin-right: 10px; transform: scale(1.2);">#}
        {#            <span>–º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ –≤ –¶–î–ù</span>#}
        {#        </div>#}
        {#        <div style="display: flex; align-items: center; margin: 10px 0;">#}
        {#            <input type="checkbox" style="margin-right: 10px; transform: scale(1.2);">#}
        {#            <span>–ù–∞–ø–∏—Å–∞—Ç—å —Ç—å—é—Ç–æ—Ä—É</span>#}
        {#        </div>#}
        {#    </div>#}
        {##}
        {#    <div style="background: #d4edda; padding: 15px; margin: 10px 0; border-radius: 8px; border-left: 4px solid #28a745;">#}
        {#        <h3>‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ</h3>#}
        {#        <div style="display: flex; align-items: center; margin: 10px 0;">#}
        {#            <input type="checkbox" checked style="margin-right: 10px; transform: scale(1.2);">#}
        {#            <span style="text-decoration: line-through; color: #6c757d;">–ø–æ—Å–µ—Ç–∏—Ç—å –≤—Å–µ –ª–µ–∫—Ü–∏–∏ –Ω–∞ –Ω–µ–¥–µ–ª–µ</span>#}
        {#        </div>#}
        {#        <div style="display: flex; align-items: center; margin: 10px 0;">#}
        {#            <input type="checkbox" checked style="margin-right: 10px; transform: scale(1.2);">#}
        {#            <span style="text-decoration: line-through; color: #6c757d;">—Å—Ö–æ–¥–∏—Ç—å –∑–∞ —É—á–µ–±–Ω–∏–∫–æ–º –ø–æ —Ä—É—Å—Å–∫–æ–º—É</span>#}
        {#        </div>#}
        {#        <div style="display: flex; align-items: center; margin: 10px 0;">#}
        {#            <input type="checkbox" checked style="margin-right: 10px; transform: scale(1.2);">#}
        {#            <span style="text-decoration: line-through; color: #6c757d;">–∑–∞–±—Ä–∞—Ç—å –ø—Ä–æ–ø—É—Å–∫ –≤ –æ–±—â–µ–∂–∏—Ç–∏–µ</span>#}
        {#        </div>#}
        {#    </div>#}
        {#</div>#}

        <!-- –ü—Ä–æ—Å—Ç–æ–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è –ø–µ—Ä–µ—á–µ—Ä–∫–∏–≤–∞–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ –ø—Ä–∏ –∫–ª–∏–∫–µ -->
        <script>
            document.addEventListener('DOMContentLoaded', function() {
                const checkboxes = document.querySelectorAll('input[type="checkbox"]');

                checkboxes.forEach(checkbox => {
                    checkbox.addEventListener('change', function() {
                        const span = this.nextElementSibling;
                        if (this.checked) {
                            span.style.textDecoration = 'line-through';
                            span.style.color = '#6c757d';
                        } else {
                            span.style.textDecoration = 'none';
                            span.style.color = 'inherit';
                        }
                    });
                });
            });
        </script>
    </div>
{% endblock %}