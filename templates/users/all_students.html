{% extends 'base/base_main_admin.html' %}
{% load static %}

{% block title %}Все студенты{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/pages/all_students.css' %}">
{% endblock %}

{% block page-name %}Все студенты{% endblock %}

{% block content %}
    <div class="all-students__container">
        <table class="all-students__table">
            <thead>
                <tr class="all-students__header-row">
                    <th class="all-students__header-cell">ФИО</th>
                    <th class="all-students__header-cell">Гражданство</th>
                    <th class="all-students__header-cell">Email</th>
                    <th class="all-students__header-cell">Телефон</th>
                    <th class="all-students__header-cell">Медосмотр</th>
                    <th class="all-students__header-cell">Дактилоскопия</th>
                    <th class="all-students__header-cell">Страховка</th>
                    <th class="all-students__header-cell">Действия</th>
                </tr>
            </thead>
            <tbody>
                {% for data in students_data %}
                <tr class="all-students__body-row">
                    <td class="all-students__cell">
                        <a href="{% url 'student_detail' data.student.id_user %}" class="all-students__link">
                            {{ data.student.first_name }} {{ data.student.surname }} {% if data.student.patronymic %}{{ data.student.patronymic }}{% endif %}
                        </a>
                    </td>
                    <td class="all-students__cell">{{ data.student.citizenship }}</td>
                    <td class="all-students__cell">{{ data.student.email }}</td>
                    <td class="all-students__cell">{{ data.student.phone_number }}</td>
                    <td class="all-students__cell all-students__status">—</td>
                    <td class="all-students__cell all-students__status">—</td>
                    <td class="all-students__cell">
                        {% if data.insurance and data.insurance.insurance_fee %}
                            <input type="checkbox" checked disabled class="all-students__checkbox">
                        {% else %}
                            <input type="checkbox" disabled class="all-students__checkbox">
                        {% endif %}
                    </td>
                    <td class="all-students__cell">
                        <a href="{% url 'student_detail' data.student.id_user %}" class="all-students__action-btn">Просмотр</a>
                    </td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="8" class="all-students__empty-message">Студентов не найдено</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
{% endblock %}
